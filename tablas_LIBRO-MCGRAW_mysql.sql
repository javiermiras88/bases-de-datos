-- ****** TABLE DEPART *********
CREATE TABLE DEPART (
 DEPT_NO  NUMERIC(2) NOT NULL,
 DNOMBRE  VARCHAR(14), 
 LOC      VARCHAR(14) ) ;

INSERT INTO DEPART VALUES (10,'CONTABILIDAD','SEVILLA');
INSERT INTO DEPART VALUES (20,'INVESTIGACION','MADRID');
INSERT INTO DEPART VALUES (30,'VENTAS','BARCELONA');
INSERT INTO DEPART VALUES (40,'PRODUCCION','BILBAO');
COMMIT;


-- ******** TABLA EMPLE: *************

CREATE TABLE EMPLE (
 EMP_NO    NUMERIC(4) NOT NULL,
 APELLIDO  VARCHAR(10)  ,
 OFICIO    VARCHAR(10)  ,
 DIR       NUMERIC(4) ,
 FECHA_ALT DATE      ,
 SALARIO   NUMERIC(7),
 COMISION  NUMERIC(7),
 DEPT_NO   NUMERIC(2) NOT NULL) ;

INSERT INTO EMPLE VALUES (7369,'SANCHEZ','EMPLEADO',7902,'1990-12-17',1040,NULL,20);
INSERT INTO EMPLE VALUES (7499,'ARROYO','VENDEDOR',7698,'1990-02-20',1500,390,30);
INSERT INTO EMPLE VALUES (7521,'SALA','VENDEDOR',7698,'1991-02-22',1625,650,30);
INSERT INTO EMPLE VALUES (7566,'JIMENEZ','DIRECTOR',7839,'1991-02-04',2900,NULL,20);
INSERT INTO EMPLE VALUES (7654,'MARTIN','VENDEDOR',7698,'1991-09-29',1600,1020,30);
INSERT INTO EMPLE VALUES (7698,'NEGRO','DIRECTOR',7839,'1991-05-01',3005,NULL,30);
INSERT INTO EMPLE VALUES (7782,'CEREZO','DIRECTOR',7839,'1991-06-09',2885,NULL,10);
INSERT INTO EMPLE VALUES (7788,'GIL','ANALISTA',7566,'1991-11-09',3000,NULL,20);
INSERT INTO EMPLE VALUES (7839,'REY','PRESIDENTE',NULL,'1991-11-17',4100,NULL,10);
INSERT INTO EMPLE VALUES (7844,'TOVAR','VENDEDOR',7698,'1991-09-08',1350,0,30);
INSERT INTO EMPLE VALUES (7876,'ALONSO','EMPLEADO',7788,'1991-09-23',1430,NULL,20);
INSERT INTO EMPLE VALUES (7900,'JIMENO','EMPLEADO',7698,'1991-12-03',1335,NULL,30);
INSERT INTO EMPLE VALUES (7902,'FERNANDEZ','ANALISTA',7566,'1991-12-03',3000,NULL,20);
INSERT INTO EMPLE VALUES (7934,'MUNOZ','EMPLEADO',7782,'1992-01-23',1690,NULL,10);

COMMIT;

-- ***TABLA ALUM0405***************

create table ALUM0405(
DNI	VARCHAR(10) NOT NULL,
NOMBRE	VARCHAR(15) NOT NULL,
APELLIDOS	VARCHAR(20) NOT NULL,
FECHA_NAC	DATE,
DIRECCION	VARCHAR(20),
POBLACION	VARCHAR(20),
PROVINCIA	VARCHAR(20),
CURSO	NUMERIC(2)  NOT NULL,
NIVEL	VARCHAR(10)  NOT NULL,
CLASE	CHAR(1)  NOT NULL,
FALTAS1	NUMERIC(2),
FALTAS2	NUMERIC(2),
FALTAS3	NUMERIC(2)
);

INSERT INTO ALUM0405 VALUES ('34448974N', 'CONCHA', 'ESTRUCH VIDAL','1985-11-11',
'C/ MEDICO FELIX, 12','BERROCALEJO', 'CACERES',2,'DAI','A',0,0,0);

INSERT INTO ALUM0405 VALUES ('34448999N', 'DORA', 'MARTIN BRENA','1994-10-11',
'C/ MEDICO FELIX, 10','BERROCALEJO', 'CACERES',1,'ESO','C',0,0,0);

 COMMIT;

-- ******** TABLA NOTAS_ALUMNOS: ***********

create table notas_alumnos
 (
   NOMBRE_ALUMNO VARCHAR(25) NOT NULL ,
   nota1 numERIC(2),
   nota2 numERIC(2),
   nota3 numERIC(2)
 ) ;
 
insert into NOTAS_ALUMNOS VALUES ('Alcalde Garcia, M. Luisa',5,5,5);
insert into NOTAS_ALUMNOS VALUES ('Benito Martin, Luis',7,6,8);
insert into NOTAS_ALUMNOS VALUES ('Casas Martinez, Manuel',7,5,5);
insert into NOTAS_ALUMNOS VALUES ('Corregidor Sanchez, Ana',6,9,8);
insert into NOTAS_ALUMNOS VALUES ('Diaz Sanchez, Maria',NULL,NULL,7);


COMMIT;

-- ******** TABLA LIBRERIA: *************

create table LIBRERIA
 (TEMA CHAR(15) NOT NULL ,
  ESTANTE CHAR(1),
  EJEMPLARES NUMERIC(2)
 ) ;

INSERT INTO LIBRERIA VALUES ('INFORMATICA', 'A',15);
INSERT INTO LIBRERIA VALUES ('ECONOMIA',    'A',10);
INSERT INTO LIBRERIA VALUES ('DEPORTES',    'B',8);
INSERT INTO LIBRERIA VALUES ('FILOSOFIA',   'C',7);
INSERT INTO LIBRERIA VALUES ('DIBUJO',      'C',10);
INSERT INTO LIBRERIA VALUES ('MEDICINA',    'C',16);
INSERT INTO LIBRERIA VALUES ('BIOLOGIA',    'A',11);
INSERT INTO LIBRERIA VALUES ('GEOLOGIA',    'D',7);
INSERT INTO LIBRERIA VALUES ('SOCIEDAD',    'D',9);
INSERT INTO LIBRERIA VALUES ('LABORES',     'B',20);
INSERT INTO LIBRERIA VALUES ('JARDINERIA',    'E',6);
COMMIT;



-- ******* TABLAS ALUMNOS, ASIGNATURAS, NOTAS: ***********


CREATE TABLE ALUMNOS
(
  DNI VARCHAR(10) NOT NULL,
  APENOM VARCHAR(30),
  DIREC VARCHAR(30),
  POBLA  VARCHAR(15),
  TELEF  VARCHAR(10)  
) ;

CREATE TABLE ASIGNATURAS
(
  COD NUMERIC(2) NOT NULL,
  NOMBRE VARCHAR(25)
) ;

CREATE TABLE NOTAS
(
  DNI VARCHAR(10) NOT NULL,
  COD NUMERIC(2) NOT NULL,
  NOTA NUMERIC(2)
);

INSERT INTO ASIGNATURAS VALUES (1,'Prog. Leng. Estr.');
INSERT INTO ASIGNATURAS VALUES (2,'Sist. Informaticos');
INSERT INTO ASIGNATURAS VALUES (3,'Analisis');
INSERT INTO ASIGNATURAS VALUES (4,'FOL');
INSERT INTO ASIGNATURAS VALUES (5,'RET');
INSERT INTO ASIGNATURAS VALUES (6,'Entornos Graficos');
INSERT INTO ASIGNATURAS VALUES (7,'Aplic. Entornos 4 Gen');
INSERT INTO ASIGNATURAS VALUES (8,'Idioma');


INSERT INTO ALUMNOS VALUES
('12344345','Alcalde Garcia, Elena', 'C/Las Matas, 24','Madrid','917766545');

INSERT INTO ALUMNOS VALUES
('4448242','Cerrato Vela, Luis', 'C/Mina 28 - 3A', 'Madrid','916566545');

INSERT INTO ALUMNOS VALUES
('56882942','Diaz Fernandez, Maria', 'C/Luis Vives 25', 'Mostoles','915577545');

INSERT INTO NOTAS VALUES('12344345', 1,6);
INSERT INTO NOTAS VALUES('12344345', 2,5);
INSERT INTO NOTAS VALUES('12344345', 3,6);

INSERT INTO NOTAS VALUES('4448242', 4,6);
INSERT INTO NOTAS VALUES('4448242', 5,8);
INSERT INTO NOTAS VALUES('4448242', 6,4);
INSERT INTO NOTAS VALUES('4448242', 7,5);

INSERT INTO NOTAS VALUES('56882942', 4,8);
INSERT INTO NOTAS VALUES('56882942', 5,7);
INSERT INTO NOTAS VALUES('56882942', 6,8);
INSERT INTO NOTAS VALUES('56882942', 7,9);

COMMIT;

-- ********** TABLA NOMBRES: ***********

CREATE TABLE NOMBRES
(
  NOMBRE VARCHAR(15),
  EDAD NUMERIC(2)
) ;

INSERT INTO NOMBRES VALUES('PEDRO', 17);
INSERT INTO NOMBRES VALUES('JUAN', 17);
INSERT INTO NOMBRES VALUES('MARIA', 16);
INSERT INTO NOMBRES VALUES('CLARA', 14);
INSERT INTO NOMBRES VALUES(NULL, 15);
INSERT INTO NOMBRES VALUES(NULL, 18);
INSERT INTO NOMBRES VALUES('JESUS', NULL);

COMMIT;

-- ********** TABLA MISTEXTOS: *************

CREATE TABLE MISTEXTOS (
 TITULO  VARCHAR(32),
 AUTOR   VARCHAR(22),
 EDITORIAL VARCHAR(15), 
 PAGINA  NUMERIC(3)
 ) ;

INSERT INTO MISTEXTOS VALUES ('METODOLOGIA DE LA PROGRAMACION.', 'ALCALDE GARCIA', 'MCGRAWHILL',140);
INSERT INTO MISTEXTOS VALUES ('"INFORMTICA BSICA."', 'GARCA GARCERN', 'PARANINFO',130);
INSERT INTO MISTEXTOS VALUES ('SISTEMAS OPERATIVOS', 'GARCA STRUCH', 'OBSBORNE',300);
INSERT INTO MISTEXTOS VALUES ('SISTEMAS DIGITALES.', 'RUZ LOPEZ','PRENTICE HALL',190);
INSERT INTO MISTEXTOS VALUES ('"MANUAL DE C."', 'RUZ LOPEZ', 'MCGRAWHILL',340);

COMMIT;


-- ********** TABLA LIBROS: *************

CREATE TABLE LIBROS (
 TITULO  VARCHAR(32),
 AUTOR   VARCHAR(22),
 EDITORIAL VARCHAR(15), 
 PAGINA  NUMeric(3)
 ) ;

INSERT INTO LIBROS VALUES ('LA COLMENA', 'CELA, CAMILO JOS', 'PLANETA',240);
INSERT INTO LIBROS VALUES ('LA HISTORIA DE MI HIJO', 'GORDIMER, NADINE', 'TIEM.MODERNOS',327);
INSERT INTO LIBROS VALUES ('LA MIRADA DEL OTRO', 'G.DELGADO, FERNANDO', 'PLANETA',298);
INSERT INTO LIBROS VALUES ('ULTIMAS TARDES CON TERESA','MARSE, JUAN', 'CRCULO',350);
INSERT INTO LIBROS VALUES ('LA NOVELA DE P. ANSUREZ', 
'TORRENTE B., GONZALO', 'PLANETA',162);
COMMIT;

-- ********** TABLA NACIMIENTOS:******************

CREATE TABLE NACIMIENTOS (
 NOMBRE CHAR(15),
 APELLIDO CHAR(15),
 FECHANAC DATE,
 EDAD NUMERIC
 ) ;


INSERT INTO NACIMIENTOS VALUES ('PEDRO', 'SANCHEZ','1982-05-02', 17);
INSERT INTO NACIMIENTOS VALUES ('JUAN', 'JIMNEZ','1982-08-23', 17);
INSERT INTO NACIMIENTOS VALUES ('MARIA', 'LOPEZ','1983-02-02', 16);
INSERT INTO NACIMIENTOS VALUES ('CLARA', 'LASECA','1985-05-20', 14);
COMMIT;


-- ************ TABLA ALUM, NUEVOS, ANTIGUOS ************

Create TABLE ALUM
(
  NOMBRE VARCHAR(20),
 EDAD NUMERIC(2),
 LOCALIDAD VARCHAR(15)
) ;

Create TABLE  NUEVOS
(
  NOMBRE  VARCHAR(20),
 EDAD NUMERIC(2),
 LOCALIDAD VARCHAR(15)
) ;

Create TABLE ANTIGUOS
(
  NOMBRE  VARCHAR(20),
 EDAD NUMERIC(2),
 LOCALIDAD VARCHAR(15)
) ;

INSERT INTO ALUM VALUES('JUAN',18,'COSLADA');
INSERT INTO ALUM VALUES('PEDRO',19,'COSLADA');
INSERT INTO ALUM VALUES('ANA',17,'ALCALA');
INSERT INTO ALUM VALUES('LUISA',18,'TORREJON');
INSERT INTO ALUM VALUES('MARIA',20,'MADRID');
INSERT INTO ALUM VALUES('ERNESTO',21,'MADRID');
INSERT INTO ALUM VALUES('RAQUEL',19,'TOLEDO');

INSERT INTO NUEVOS VALUES('JUAN',18,'COSLADA');
INSERT INTO NUEVOS VALUES('MAITE',15,'ALCALA');
INSERT INTO NUEVOS VALUES('SOFIA',14,'ALCALA');
INSERT INTO NUEVOS VALUES('ANA',17,'ALCALA');
INSERT INTO NUEVOS VALUES('ERNESTO',21,'MADRID');

INSERT INTO ANTIGUOS VALUES('MARIA',20,'MADRID');
INSERT INTO ANTIGUOS VALUES('ERNESTO',21,'MADRID');
INSERT INTO ANTIGUOS VALUES('ANDRES',26,'LAS ROZAS');
INSERT INTO ANTIGUOS VALUES('IRENE',24,'LAS ROZAS');

COMMIT;

-- ************ TABLA PERSONAL, PROFESORES, CENTROS ***********

CREATE TABLE PERSONAL (
 COD_CENTRO   NUMERIC(4) NOT NULL,
 DNI NUMERIC(10),
 APELLIDOS VARCHAR(30),
 FUNCION VARCHAR(15),
 SALARIO NUMERIC (10) 
);

INSERT INTO PERSONAL VALUES (10,1112345,'Martinez Salas, Fernando',
'PROFESOR', 220000);
INSERT INTO PERSONAL VALUES (10,4123005,'Bueno Zarco, Elisa', 
'PROFESOR', 220000);
INSERT INTO PERSONAL VALUES (10,4122025,'Montes Garcia, M.Pilar', 
'PROFESOR', 220000);

INSERT INTO PERSONAL VALUES (15,1112345,'Rivera Silvestre, Ana',
'PROFESOR', 205000);
INSERT INTO PERSONAL VALUES (15,9800990, 'Ramos Ruiz, Luis',
'PROFESOR', 205000);
INSERT INTO PERSONAL VALUES (15,8660990, 'De Lucas Fdez, M.Angel',
'PROFESOR', 205000);

INSERT INTO PERSONAL VALUES (22,7650000, 'Ruiz Lafuente, Manuel',
'PROFESOR', 220000);
INSERT INTO PERSONAL VALUES (45,43526789, 'Serrano Laguia, Maria',
'PROFESOR', 205000);


INSERT INTO PERSONAL VALUES (10,4480099,'Ruano Cerezo, Manuel',
'ADMINISTRATIVO', 180000);
INSERT INTO PERSONAL VALUES (15,1002345,'Albarran Serrano, Alicia',
'ADMINISTRATIVO', 180000);
INSERT INTO PERSONAL VALUES (15,7002660,'Munoz Rey, Felicia',
'ADMINISTRATIVO', 180000);
INSERT INTO PERSONAL VALUES (22,5502678,'Marin Marin, Pedro',
'ADMINISTRATIVO', 180000);
INSERT INTO PERSONAL VALUES (22,6600980, 'Peinado Gil, Elena',
'CONSERJE', 175000);
INSERT INTO PERSONAL VALUES (45,4163222, 'Sarro Molina, Carmen',
'CONSERJE', 175000);


CREATE TABLE PROFESORES (
 COD_CENTRO   NUMERIC(4) NOT NULL,
 DNI          NUMERIC(10),
 APELLIDOS VARCHAR(30),
 ESPECIALIDAD VARCHAR(16) 
) ;


INSERT INTO PROFESORES VALUES (10,1112345,'Martinez Salas, Fernando',
'INFORMATICA');
INSERT INTO PROFESORES VALUES (10,4123005,'Bueno Zarco, Elisa', 
'MATEMATICAS');
INSERT INTO PROFESORES VALUES (10,4122025,'Montes Garcia, M.Pilar', 
'MATEMATICAS');

INSERT INTO PROFESORES VALUES (15,9800990, 'Ramos Ruiz, Luis',
	'LENGUA');
INSERT INTO PROFESORES VALUES (15,1112345,'Rivera Silvestre, Ana',
	'DIBUJO');
INSERT INTO PROFESORES VALUES (15,8660990, 'De Lucas Fdez, M.Angel',
'LENGUA');

INSERT INTO PROFESORES VALUES (22,7650000, 'Ruiz Lafuente, Manuel',
'MATEMATICAS');
INSERT INTO PROFESORES VALUES (45,43526789, 'Serrano Laguia, Maria',
'INFORMATICA');

CREATE TABLE CENTROS (
 COD_CENTRO   NUMERIC(4) NOT NULL,
 TIPO_CENTRO  CHAR(1),
 NOMBRE VARCHAR(30),
 DIRECCION VARCHAR(26),
 TELEFONO VARCHAR(10),
 NUM_PLAZAS NUMERIC(4)
 ) ;


INSERT INTO CENTROS VALUES (10,'S','IES El Quijote', 
'Avda. Los Molinos 25', '965-887654',538);
INSERT INTO CENTROS VALUES (15,'P','CP Los Danzantes', 'C/Las Musas s/n',
'985-112322',250);
INSERT INTO CENTROS VALUES (22,'S', 'IES Planeta Tierra', 'C/Mina 45',
'925-443400',300);
INSERT INTO CENTROS VALUES (45,'P', 'CP Manuel Hidalgo', 'C/Granada 5',
'926-202310',220);
INSERT INTO CENTROS VALUES (50,'S', 'IES Antonete', 'C/Los Toreros 21',
'989-406090',310);

commit;

--  *********************************************************
--  **TABLAS BANCOS, SUCURSALES, CUENTAS Y MOVIMIENTOS. ***

Create TABLE   BANCOS(
COD_BANCO   NUMERIC(4) PRIMARY KEY,
NF_BANCO    VARCHAR(10),
NOMBRE_BANC VARCHAR(30),
DOM_FISCAL  VARCHAR(35),
POBLACION   VARCHAR(35)
);


Create TABLE  SUCURSALES(
COD_BANCO   NUMERIC(4),
COD_SUCUR   NUMERIC (4),
NOMBRE_SUC  VARCHAR(35),
DIREC_SUC   VARCHAR(35),
LOC_SUC     VARCHAR(20),
PROV_SUC    VARCHAR(20),
PRIMARY KEY (COD_BANCO,COD_SUCUR)
);	

Create TABLE   CUENTAS(
COD_BANCO   NUMERIC(4),
COD_SUCUR   NUMERIC(4),
NUM_CTA     NUMERIC(10) ,
FECHA_ALTA  DATE,
NOMBRE_CTA  VARCHAR(35),
DIREC_CTA   VARCHAR(35),
POBLA_CTA   VARCHAR(20),
SALDO_DEBE  NUMERIC(10),
SALDO_HABER NUMERIC(10),
PRIMARY KEY (COD_BANCO,COD_SUCUR,NUM_CTA)
);

CREATE TABLE  MOVIMIENTOS(
COD_BANCO   NUMERIC(4),
COD_SUCUR   NUMERIC(4),
NUM_CTA     NUMERIC(10), 
FECHA_MOV   DATE,
TIPO_MOV    CHAR(1), 
IMPORTE     NUMERIC(10)
);


--  BANCOS **************

INSERT INTO BANCOS VALUES(1111,'122322223','BANCO DE ESPANA','GRAN VIA','MADRID');
INSERT INTO BANCOS VALUES(1112,'222322223','BANCO DE GUADALAJARA','MAYOR', 
					'GUADALAJARA');
INSERT INTO BANCOS VALUES(1113,'322322223','BANCO POPULAR','LA PLAZA','TOLEDO');
INSERT INTO BANCOS VALUES(1114,'422322223','CAJA CM','RIO DULCE','ALBACETE');


INSERT INTO sucursales VALUES(1111, 5000,'* SUCURSAL 1*', 'ANCHA 24', 
	'TOLEDO','TOLEDO');
INSERT INTO sucursales VALUES(1111, 5001,'* SUCURSAL 2*', 'PILON 33',
 'PASTRANA','GUADALAJARA');

INSERT INTO sucursales VALUES(1112, 6000,'* SUCURSAL 6000*', 'MAYOR 55',
 'ALCALA','ALCALA');

INSERT INTO sucursales VALUES(1113, 4000,'* SUCURSAL 4000*', 'ERAS 77',
 'ARANJUEZ','MADRID');



-- CUENTAS  ****************************

INSERT INTO CUENTAS VALUES(1111, 5000,123456789,CURRENT_DATE()-7, 'JUAN','TOLEDO','TOLEDO', 0,0);
INSERT INTO CUENTAS VALUES(1111, 5000,123456788,CURRENT_DATE()-6, 'PEDRO','TOLEDO','TOLEDO', 0,0);
INSERT INTO CUENTAS VALUES(1111, 5001,123456787,CURRENT_DATE()-100, 'ANA','GUADALAJARA','GUADALAJARA', 0,0);
INSERT INTO CUENTAS VALUES(1111, 5001,123456786,CURRENT_DATE()-6, 'MANUEL','GUADALAJARA','GUADALAJARA', 0,0);
INSERT INTO CUENTAS VALUES(1111, 5001,123456785,CURRENT_DATE()-2, 'ANDRES','ALCALA','ALCALA', 0,0);
INSERT INTO CUENTAS VALUES(1112, 6000,33334444, CURRENT_DATE(),'ISABEL','MADRID', 'MADRID', 0,0);
INSERT INTO CUENTAS VALUES(1112, 6000,33334440, CURRENT_DATE(),'MARIA','MADRID','MADRID', 0,0);


-- MOVIMIENTOS  ****************************

INSERT INTO MOVIMIENTOS VALUES(1112, 6000,33334444, CURRENT_DATE(),'I', 1000); 
INSERT INTO MOVIMIENTOS VALUES(1112, 6000,33334444, CURRENT_DATE()-1,'I', 2000); 
INSERT INTO MOVIMIENTOS VALUES(1112, 6000,33334444, CURRENT_DATE()-2,'R', 100); 
INSERT INTO MOVIMIENTOS VALUES(1112, 6000,33334444, CURRENT_DATE(),'R', 5000); 

INSERT INTO MOVIMIENTOS VALUES(1112, 6000,33334440, CURRENT_DATE(),'R',200);
INSERT INTO MOVIMIENTOS VALUES(1112, 6000,33334440, CURRENT_DATE()-2,'I',200);

INSERT INTO MOVIMIENTOS VALUES(1111, 5000,123456789,CURRENT_DATE()-7, 'I',100);
INSERT INTO MOVIMIENTOS VALUES(1111, 5000,123456789,CURRENT_DATE()-5, 'R',200);
INSERT INTO MOVIMIENTOS VALUES(1111, 5000,123456789,CURRENT_DATE()-4, 'I',300);

INSERT INTO MOVIMIENTOS VALUES(1111, 5000,123456788,CURRENT_DATE(),'I',200);

INSERT INTO MOVIMIENTOS VALUES(1111, 5001,123456787,CURRENT_DATE(), 'R',198);

INSERT INTO MOVIMIENTOS VALUES(1111, 5001,123456786,CURRENT_DATE(),'I',998);

Commit;



-- CALCULO DE SALDOS ***************

UPDATE  CUENTAS C SET SALDO_DEBE  = (SELECT SUM(IMPORTE) FROM MOVIMIENTOS
WHERE TIPO_MOV='R' AND C.COD_BANCO= COD_BANCO AND C.COD_SUCUR=COD_SUCUR
AND C.NUM_CTA =NUM_CTA);

UPDATE  CUENTAS C SET SALDO_HABER  = (SELECT SUM(IMPORTE) FROM MOVIMIENTOS
WHERE TIPO_MOV='I' AND C.COD_BANCO= COD_BANCO AND C.COD_SUCUR=COD_SUCUR
AND C.NUM_CTA =NUM_CTA);

UPDATE  CUENTAS SET SALDO_DEBE =0 WHERE SALDO_DEBE IS NULL;
UPDATE  CUENTAS SET SALDO_HABER=0 WHERE SALDO_HABER IS NULL;

COMMIT;

-- *************** TABLA EMPLE30: **************

CREATE TABLE EMPLE30 (
 EMP_NO    NUMERIC(4) NOT NULL,
 APELLIDO  VARCHAR(10)  ,
 OFICIO    VARCHAR(10)  ,
 DIR       NUMERIC(4) ,
 FECHA_ALT DATE      ,
 SALARIO   NUMERIC(7),
 COMISION  NUMERIC(7),
 DEPT_NO   NUMERIC(2) NOT NULL) ;



-- *************** TABLAS ARTICULOS, TIENDAS, FABRICANTES, PEDIDOS y VENTAS:********

CREATE TABLE ARTICULOS(
ARTICULO       VARCHAR(20)NOT NULL,
COD_FABRICANTE NUMERIC(3) NOT NULL,
PESO           NUMERIC(3) NOT NULL ,
CATEGORIA      VARCHAR(10) NOT NULL,
PRECIO_VENTA   NUMERIC (6,2),
PRECIO_COSTO   NUMERIC (6,2),
EXISTENCIAS    NUMERIC (5) ) ;

INSERT INTO ARTICULOS VALUES ('Macarrones',20, 1, 'Primera',1, 0.98,120);

INSERT INTO ARTICULOS VALUES ('Tallarines',20, 2, 'Primera',1.20,1,100);

INSERT INTO ARTICULOS VALUES ('Tallarines',20, 1, 'Segunda',0.99,0.50,100);

INSERT INTO ARTICULOS VALUES ('Macarrones',20, 1, 'Tercera',0.80,0.50,100);

INSERT INTO ARTICULOS VALUES ('Atun',10, 3, 'Primera',2,1.50,220);
INSERT INTO ARTICULOS VALUES ('Atun',10, 3, 'Segunda',1.50,1,220);
INSERT INTO ARTICULOS VALUES ('Atun',10, 3, 'Tercera',1,0.50,220);
INSERT INTO ARTICULOS VALUES ('Sardinillas',10, 1, 'Primera',2.5,2,200);
INSERT INTO ARTICULOS VALUES ('Sardinillas',10, 1, 'Segunda',2,1.6,200);
INSERT INTO ARTICULOS VALUES ('Sardinillas',10, 1, 'Tercera',1,1.5,220);
INSERT INTO ARTICULOS VALUES ('Mejillones',10, 1, 'Tercera',1,0.9,200);
INSERT INTO ARTICULOS VALUES ('Mejillones',10, 1, 'Primera',3,2,300);



INSERT INTO ARTICULOS VALUES ('Macarrones',25, 1, 'Primera',1.5,1,150);
INSERT INTO ARTICULOS VALUES ('Tallarines',25, 1, 'Primera',1,0.90,100);
INSERT INTO ARTICULOS VALUES ('Fideos',25, 1, 'Segunda',0.75,0.50,100);
INSERT INTO ARTICULOS VALUES ('Fideos',25, 1, 'Primera',1,0.80,100);


INSERT INTO ARTICULOS VALUES ('Galletas Cuadradas',15, 1, 'Primera',2,1.8,100);
INSERT INTO ARTICULOS VALUES ('Galletas Cuadradas',15, 1, 'Segunda',1,0.8,100);
INSERT INTO ARTICULOS VALUES ('Galletas Cuadradas',15, 1, 'Tercera',0.50,0.40,100);
INSERT INTO ARTICULOS VALUES ('Barquillos',15, 1, 'Primera',1,0.80,100);
INSERT INTO ARTICULOS VALUES ('Barquillos',15, 1, 'Segunda',1,0.80,100);
INSERT INTO ARTICULOS VALUES ('Canutillos',15, 2, 'Primera',1.7,1.5,110);
INSERT INTO ARTICULOS VALUES ('Canutillos',15, 2, 'Segunda',1.2,1.5,110);
INSERT INTO ARTICULOS VALUES ('Leche entera',30, 1, 'Primera',1.1,1,300);
INSERT INTO ARTICULOS VALUES ('Leche desnat.',30, 1,'Primera',1.2,1,300);
INSERT INTO ARTICULOS VALUES ('Leche semi.',30, 1, 'Primera',1.30,1.10,300);
INSERT INTO ARTICULOS VALUES ('Leche entera',30, 2,'Primera',2.10,2,300);
INSERT INTO ARTICULOS VALUES ('Leche desnat.',30, 2, 'Primera',2.2,2,300);
INSERT INTO ARTICULOS VALUES ('Leche semi.',30, 2,  'Primera',2.3,2.1,300);
INSERT INTO ARTICULOS VALUES ('Mantequilla',30, 1, 'Primera',1.8,2,200);
INSERT INTO ARTICULOS VALUES ('Mantequilla',30, 1, 'Segunda',1.4,2,200);


CREATE TABLE FABRICANTES(
COD_FABRICANTE NUMERIC(3) NOT NULL,
NOMBRE         VARCHAR(15), 
PAIS           VARCHAR(15));

INSERT INTO FABRICANTES VALUES(10,'CALVO', 'ESPANA');
INSERT INTO FABRICANTES VALUES(15,'LU', 'BELGICA');
INSERT INTO FABRICANTES VALUES(20,'BARILLA', 'ITALIA');
INSERT INTO FABRICANTES VALUES(25,'GALLO', 'ESPANA');
INSERT INTO FABRICANTES VALUES(30,'PRESIDENT', 'FRANCIA');

CREATE TABLE TIENDAS(
NIF       VARCHAR(10) NOT NULL,
NOMBRE    VARCHAR(20),
DIRECCION VARCHAR(20),
POBLACION VARCHAR(20),
PROVINCIA VARCHAR(20),
CODPOSTAL NUMERIC(5) );

INSERT INTO TIENDAS VALUES('1111-A','Almacenes Perez', 'C/Toledo, 20',
 'Siguenza','GUADALAJARA',19104); 
INSERT INTO TIENDAS VALUES('5555-B','La gacela', 'C/Santander Rios, 45',
 'Azuqueca','GUADALAJARA', 19209);
INSERT INTO TIENDAS VALUES('2222-A','Comestibles Rodolfo', 
'C/ del Val s/n', 'Alcala de Henares','MADRID',28804);
INSERT INTO TIENDAS VALUES('4444-A','La Pasta Gansa', 'C/Alcala, 2',
 'Ajalvir','MADRID', 28765);
 INSERT INTO TIENDAS VALUES('3333-N','Ultramarinos Montse',
  'Avda. Pio 10', 'Toledo','TOLEDO',45100);
INSERT INTO TIENDAS VALUES('4141-B','Todo Toledo',
 'C/Avila 24', 'Talavera','TOLEDO',45199);


CREATE TABLE PEDIDOS(
NIF               VARCHAR(10) NOT NULL,
ARTICULO          VARCHAR(20) NOT NULL,
COD_FABRICANTE    NUMERIC(3) NOT NULL,
PESO              NUMERIC(3) NOT NULL,
CATEGORIA         VARCHAR(10) NOT NULL,
FECHA_PEDIDO      DATE NOT NULL,
UNIDADES_PEDIDAS  NUMERIC(4)
) ;

INSERT INTO PEDIDOS VALUES ('5555-B','Macarrones',20, 1, 'Primera','2006-02-18', 30);
INSERT INTO PEDIDOS VALUES ('5555-B','Atun',10, 3, 'Primera','2006-12-21', 10);
INSERT INTO PEDIDOS VALUES ('5555-B','Atun',10, 3, 'Segunda','2006-03-11', 4);
INSERT INTO PEDIDOS VALUES ('5555-B','Sardinillas',10, 1, 'Segunda','2006-12-04', 10);
INSERT INTO PEDIDOS VALUES ('5555-B','Macarrones',25, 1, 'Primera','2006-10-12', 12);
INSERT INTO PEDIDOS VALUES ('5555-B','Fideos',25, 1, 'Segunda','2006-09-11', 24);
INSERT INTO PEDIDOS VALUES ('5555-B','Fideos',25, 1, 'Segunda', '2006-12-15', 20);
INSERT INTO PEDIDOS VALUES ('5555-B','Galletas Cuadradas',15, 1, 'Segunda','2006-06-20', 15);
INSERT INTO PEDIDOS VALUES ('1111-A','Barquillos',15, 1, 'Primera','2006-02-10', 10);
INSERT INTO PEDIDOS VALUES ('1111-A','Canutillos',15, 2, 'Segunda','2006-04-22', 12);
INSERT INTO PEDIDOS VALUES ('1111-A','Leche semi.',30, 1, 'Primera','2006-06-24', 5);
INSERT INTO PEDIDOS VALUES ('1111-A','Leche semi.',30, 2, 'Primera','2006-07-24', 11);
INSERT INTO PEDIDOS VALUES ('1111-A','Mantequilla',30, 1, 'Primera', '2006-07-10', 10);
INSERT INTO PEDIDOS VALUES ('4141-B','Macarrones',20, 1, 'Primera','2006-04-16', 30);
INSERT INTO PEDIDOS VALUES ('4141-B','Atun',10, 3, 'Primera','2006-05-21', 10);
INSERT INTO PEDIDOS VALUES ('4141-B','Atun',10, 3, 'Segunda','2006-08-12', 9);
INSERT INTO PEDIDOS VALUES ('2222-A','Sardinillas',10, 1, 'Segunda', '2006-08-12',20);
INSERT INTO PEDIDOS VALUES ('2222-A','Sardinillas',10, 1,'Tercera', '2006-08-12',22);
INSERT INTO PEDIDOS VALUES('2222-A','Mejillones',10,1, 'Primera',CURRENT_DATE(),1000);
INSERT INTO PEDIDOS VALUES ('3333-A','Macarrones',25, 1,'P rimera','2006-10-11',8);
INSERT INTO PEDIDOS VALUES ('3333-A','Tallarines',25, 1,'Primera','2006-11-12',9);
 INSERT INTO PEDIDOS VALUES ('3333-A','Fideos',25, 1,'Primera','2006-11-15',11);
 INSERT INTO PEDIDOS VALUES ('3333-A','Galletas Cuadradas',15, 1, 'Primera','2006-11-20',6);
INSERT INTO PEDIDOS VALUES ('3333-A','Barquillos',15, 1,'Segunda', '2006-11-10',40);
 INSERT INTO PEDIDOS VALUES ('3333-A','Canutillos',15, 2, 'Segunda', '2006-11-10',10);


CREATE TABLE VENTAS(
NIF                VARCHAR(10) NOT NULL,
ARTICULO           VARCHAR(20) NOT NULL,
COD_FABRICANTE     NUMERIC(3) NOT NULL,
PESO               NUMERIC(3) NOT NULL,
CATEGORIA          VARCHAR(10) NOT NULL,
FECHA_VENTA        DATE NOT NULL,
UNIDADES_VENDIDAS  NUMeric(4)
);


INSERT INTO VENTAS VALUES ('5555-B','Macarrones',20, 1, 'Primera','2006-02-19', 5);
INSERT INTO VENTAS VALUES ('5555-B','Atun',10, 3, 'Primera','2006-02-19', 6);
INSERT INTO VENTAS VALUES ('5555-B','Atun',10, 3, 'Segunda','2006-03-20', 15);
INSERT INTO VENTAS VALUES ('5555-B','Sardinillas',10, 1, 'Segunda', '2006-03-20', 8);
INSERT INTO VENTAS VALUES ('5555-B','Macarrones',25, 1, 'Primera','2006-04-17', 2);
INSERT INTO VENTAS VALUES ('5555-B','Fideos',25, 1, 'Segunda', '2006-05-18', 14);
INSERT INTO VENTAS VALUES ('5555-B','Leche semi.',30, 1, 'Primera','2006-06-24', 5);
INSERT INTO VENTAS VALUES ('2222-A','Galletas Cuadradas',15, 1, 'Segunda', '2006-06-20', 5);
INSERT INTO VENTAS VALUES ('2222-A','Barquillos',15, 1, 'Primera','2006-02-20', 6);
INSERT INTO VENTAS VALUES ('2222-A','Canutillos',15, 2, 'Segunda','2006-06-10', 2);
INSERT INTO VENTAS VALUES ('2222-A','Sardinillas',10, 1,'Segunda', '2006-08-15',5);
INSERT INTO VENTAS VALUES ('2222-A','Sardinillas',10, 1,'Tercera', '2006-08-15',5);
INSERT INTO VENTAS VALUES ('3333-A','Leche semi.',30, 2, 'Primera','2006-07-06', 11);
INSERT INTO VENTAS VALUES ('3333-A','Mantequilla',30, 1, 'Primera', '2006-07-06', 10);
INSERT INTO VENTAS VALUES ('3333-A','Macarrones',20, 1, 'Primera','2006-05-20', 30);
INSERT INTO VENTAS VALUES ('3333-A','Atun',10, 3, 'Primera','2006-04-20', 10);
INSERT INTO VENTAS VALUES ('3333-A','Barquillos',15, 1, 'Segunda', '2006-11-25',4);
INSERT INTO VENTAS VALUES ('3333-A','Canutillos',15, 2, 'Segunda', '2006-11-25',4);
INSERT INTO VENTAS VALUES ('4141-B','Atun',10, 3, 'Segunda','2006-08-12', 2);
INSERT INTO VENTAS VALUES ('4141-B','Macarrones',25, 1, 'Primera','2006-11-10',2);
INSERT INTO VENTAS VALUES ('4141-B','Tallarines',25, 1, 'Primera', '2006-11-11',3);
INSERT INTO VENTAS VALUES ('4141-B','Canutillos',15, 2, 'Segunda', '2006-11-11',8);

commit;

-- *************** FIN *******************************